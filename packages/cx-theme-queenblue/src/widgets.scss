@import "~cx/src/index";

$block: map-get($cx-besm, block);
$element: map-get($cx-besm, element);
$state: map-get($cx-besm, state);
$mod: map-get($cx-besm, mod);

@if (cx-included('cx/widgets/Section')) {
   $section-mods: primary success warning error;
   
   @each $i in $section-mods {
      .#{$block}section.#{$mod}#{$i} {
         .#{$element}section-header {
            border-bottom-color: rgba(#fff, 0.4);
         }
      }
   }
   
   .#{$block}section.#{$mod}card.#{$mod}card {
      box-shadow: $cx-default-section-box-shadow;
   }
   // can be used interchangeably with mod='card'
   .#{$mod}well {
      @extend .#{$mod}card;
   }

   .#{$element}section-header.#{$element}section-header {
      font-weight: normal;

      .#{$mod}pad > & {
         border: none;
      }
   }
   @for $i from 1 through 6 {
      .#{$element}section-header h#{$i} {
         .#{$mod}primary &,
         .#{$mod}error &,
         .#{$mod}success &,
         .#{$mod}warning & {
            color: $cx-default-color-dark;
         }
      }
   }
}

@if (cx-included('cx/widgets/Calendar')) {
   // calendar
   .#{$block}calendar {
      .#{$element}calendar-day-names {
         // color: $cx-theme-primary-color;
         color: mix($cx-default-color, $cx-theme-accent-color-dark, 65);
      }

      &.#{$state}disabled {
         background-color: $cx-default-background-color-dark;    
         pointer-events: none;
         opacity: .6;
      }
   }
}

@if (cx-included('cx/widgets/DateTimeField')) {
   .#{$block}datetimefield .#{$block}calendar {
      border-color: transparent !important;
   }

   .#{$block}datetimefield .#{$block}datetimepicker {
      border-color: transparent !important;
   }
}

@if (cx-should-include('cx/widgets/DateTimePicker')) {
   .#{$element}wheel-option {
      border-color: transparent;
   }
}

@if (cx-included('cx/widgets/MonthField')) {
   .#{$block}monthfield .#{$block}monthpicker {
      border-color: transparent !important;
   }
}


// Monthpicker 
@if (cx-included('cx/widgets/MonthPicker')) {
   .#{$block}monthpicker {
      background-color: $cx-default-background-color-dark;
      border-color: rgba(255,255,255, .5);
      text-transform: uppercase; 

      .#{$element}monthpicker-year {
         color: $cx-default-color;
      }

      &.#{$state}disabled {
         background-color: lighten($cx-default-background-color-dark, 5);
         border-color: #636363;
         color: $cx-disabled-text;
      } 
   } 
}

@if (cx-included('cx/widgets/ColorPicker')) {
   .#{$block}colorfield .#{$block}colorpicker {
      border-color: transparent !important;
   }
}

// lookupfield
@if (cx-included('cx/widgets/LookupField')) {
   .#{$element}lookupfield-tag-clear {
      color: #d0da7a;
   }
}

// select
@if (cx-included('cx/widgets/Select')) {
   .#{$block}select option {
      color: $cx-default-color;
      background-color: $cx-default-background-color-lighter;
   }
}

//override for chrome mobile default press effect
.#{$block}button, .#{$block}tab, .#{$block}menu {
   -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
}

//Modal window background on dark surface
%cxe-overlay-shadow {
   background: rgba(255, 255, 255, 0.075);
}

//progressbar
@if (cx-included('cx/widgets/ProgressBar')) {
   .#{$block}progressbar {
      margin: 10px 0 0;
      border-radius: 25px;
      // box-shadow: inset 0 -1px 2px rgba(30, 95, 138, 0.3);
      box-shadow: inset 0 -1px 2px rgba(255,255,255, .3);

      .#{$element}progressbar-label {
         top: -20px;
         text-align: right;
      }

      .#{$element}progressbar-indicator {
         background-image: linear-gradient(to bottom, #77b6e0, #1e5f8a);
         border-radius: 25px;
         // box-shadow: inset 0 -1px 2px rgba(255, 255, 255, 0.3);
         box-shadow: inset 0 -1px 2px rgba(255,255,255, .3);
       }
   }
}

//LIST
.#{$block}list.#{$state}selectable {
   &.#{$mod}bordered {
         border-color: rgba(#d9dfe3, .3);

         & > .#{$element}list-item:not(:first-child) {
            border-top-color: rgba(#d9dfe3, .3);
         }
   }
}

//GRID
.#{$element}grid-data {
   .#{$state}selectable & {
   
      &.#{$state}selected {
        background-color: rgba($cx-theme-accent-color, .2);

         &.#{$state}cursor {
            background-color: rgba($cx-theme-accent-color, .2);
            // color: lighten($secondary-color, 15);
            color: #d0da7a;
         }
      }   
   }
}

.#{$element}grid-group-footer, .#{$element}grid-group-caption {

   td {
      color: #b2dfdb;
      line-height: $cx-default-grid-data-line-height;
     
   }

   &:not(:first-child) {
      td {
         padding-top: cx-top($cx-default-grid-data-padding) + 1px;
      }
   }
}


.#{$element}grid-group-caption {
   td {
      color: $cx-theme-accent-color-light;
   }

   @for $i from 2 through 4 {
      &.#{$state}level-#{$i} {
         td {
            text-transform: uppercase;
            color: $cx-theme-accent-color;
            border-color: $cx-default-border-color-light;
         }
      }
   }
}

.#{$element}grid-group-footer {
   @for $i from 2 through 4 {
      &.#{$state}level-#{$i} {
         td {
            color: $primary-color-light;
            border-top: none;
            border-bottom: 1px solid $cx-default-border-color-light;
         }
      }
   }
}

// grid checkbox margin corrected
.#{$block}grid {
   .#{$block}checkbox {
      padding: 0;
   }
}

// pagination
.#{$element}pagination-page {
   border-color: transparent;
}


// SWITCH
.#{$element}switch-space {
   &:after {
      content: 'OFF';
      color: rgba(137, 194, 217, .5);
      // color: rgba($cx-theme-accent-color, .5);
      font-weight: $cx-default-font-weight;
      margin-left: 10px;
   }
}

.#{$element}switch-handle {
   position: absolute;
   width: 16px;
   height: 16px;
   margin-left: -8px;
   margin-top: -8px;
   background-color: rgba(137, 194, 217, .5);
   // background-color: rgba($cx-theme-accent-color, .5);
   border-radius: 19px; 
   cursor: pointer;
   -webkit-transition: all .3s .1s, width .1s, top .1s, bottom .1s;
   transition: all .3s .1s, width .1s, top .1s, bottom .1s;
}

.#{$element}switch-axis {
   background-color: $cx-default-section-background;
   border: 2px solid rgba(137, 194, 217, .5);
   // border: 2px solid rgba($cx-theme-accent-color, .5);
   border-radius: 20px;
   height: 22px;
   transition: border-color .6s ease-out;
}

.#{$element}switch-range {
      z-index: 1;
      right: 3px;
      border-radius: 23px;
      background-color: #89c2da;
      box-shadow: 0 0 10px #4b7a8d;
      // background-color: lighten($cx-theme-accent-color, 10);
      // box-shadow: 0 0 10px $cx-theme-accent-color;
      -webkit-transition: all .2s .1s, right .1s;
      transition: all .2s .1s, right .1s;

      &:after {
         content: "ON";
         font-weight: $cx-default-font-weight;
         color: #3b6a7d;
         margin-left: 15px;
      }
}